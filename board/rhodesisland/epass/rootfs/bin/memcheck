#!/bin/sh

if [ -f /proc/meminfo ]; then
    MEM_TOTAL=$(grep 'MemTotal' /proc/meminfo | awk '{print $2}')
    if [ -n "$MEM_TOTAL" ]; then
        MEM_MB=$(awk -v total="$MEM_TOTAL" 'BEGIN {printf "%.2f", total / 1000}')
        echo "Memory: $MEM_MB MB"
        
        if [ "$MEM_TOTAL" -lt 46080 ]; then  # 45MB = 45 * 1024 = 46080KB
            echo "
                F1C100s
:::'##:::::'#####:::::'#####::::'######::
:'####::::'##.. ##:::'##.. ##::'##... ##:
:.. ##:::'##:::: ##:'##:::: ##: ##:::..::
::: ##::: ##:::: ##: ##:::: ##:. ######::
::: ##::: ##:::: ##: ##:::: ##::..... ##:
::: ##:::. ##:: ##::. ##:: ##::'##::: ##:
:'######::. #####::::. #####:::. ######::
:......::::.....::::::.....:::::......:::"
            echo "You have broght a Fake F1C200s Chip"
            echo "Which is equipped with 32MB RAM only."
            echo "This System WILL NOT WORK properly."
            echo "Anyway, start app in 10s..."
            sleep 10

        fi
    else
        echo "Memory: Unknown (MemTotal not found)"
    fi
else
    echo "Memory: Unknown (/proc/meminfo not found)"
fi